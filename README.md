# ç‚¹äº‘ä»£ç å­¦ä¹ 
æ­¤æ–‡æ¡£ç”¨äºè®°å½•ç‚¹äº‘ä»£ç å­¦ä¹ ç¬”è®°

ç‚¹äº‘å¤„ç†ç®€è¦æµç¨‹ï¼šé‡‡é›† â†’ æ¸…æ´—é¢„å¤„ç† â†’ æ·»åŠ å™ªå£°/å¢å¼º â†’ ç‰¹å¾æå– â†’ è¾“å…¥æ¨¡å‹è®­ç»ƒ â†’ åå¤„ç† â†’ è¯„ä¼° â†’ å¯è§†åŒ–  
æ•°æ®é›†Dataå’Œé¢„å¤„ç†åçš„ç»“æœResultsï¼Œè¿˜æœ‰æ–¹æ³•ç­‰æ—¥å¿—Logï¼ˆç›®å‰æ²¡æœ‰è¿è¡Œæ—¥å¿—ï¼Œä½†æ˜¯å¯ä»¥åæœŸè¿è¡Œå­˜å‚¨è¿è¡Œæ—¥å¿—ï¼‰å¯ä»¥è¯¦è§data_structure.txt


# ç›®å½•
 - æ–‡ä»¶åŠŸèƒ½è¯´æ˜
 - æ–‡ä»¶ç»“æ„è¯´æ˜
 - å¤„ç†æµç¨‹/é€»è¾‘å±•ç¤º



 
# æ–‡ä»¶åŠŸèƒ½è¯´æ˜  
# ä¸€. data-prepareæ–‡ä»¶å¤¹: 

 
## 1.step0_read_las.pyï¼š  
- **è¾“å…¥**ï¼šåŸå§‹.las æ ¼å¼ç‚¹äº‘æ•°æ®ï¼ˆå«ç©ºé—´åæ ‡ã€é¢œè‰²ã€åˆ†ç±»æ ‡ç­¾ç­‰ï¼‰   
 è¾“å‡ºï¼šå†…å­˜ä¸­çš„numpyæ•°ç»„ï¼ˆx,y,z,RGB,labelï¼‰ã€min_xyzèµ·å§‹åæ ‡ï¼ˆåç»­å¯ç”¨äºè¿˜åŸä½ç½®ä¿¡æ¯ï¼‰  
æ•°æ®çŠ¶æ€ï¼šåŸå§‹æ ¼å¼è½¬æ¢ä¸ºæ ‡å‡†æ•°ç»„  
 å¤„ç†ï¼š  
    - aï¼‰è§£æ.lasæ–‡ä»¶ç»“æ„      
    - bï¼‰æå–xyzåæ ‡ï¼ˆå½’ä¸€åŒ–åˆ°èµ·ç‚¹ï¼‰ã€RGBé¢œè‰²ã€æ ‡ç­¾ï¼ˆclassificationï¼‰
## 2. step1_data_prepare_H3D.py / step1_data_prepare_V3D.pyï¼š  
 ä¸¤æ–‡ä»¶çš„åŒºåˆ«ï¼š  
 H3D.py å¤„ç†çš„æ˜¯ H3D æ ¼å¼çš„ç‚¹äº‘æ•°æ®ï¼ˆå« RGBã€instanceã€labelã€å¯èƒ½è¿˜å¸¦ intensityï¼‰  
 V3D.py é’ˆå¯¹çš„æ˜¯ V3D æ ¼å¼çš„ç‚¹äº‘æ•°æ®ï¼ˆç»“æ„ç®€æ´ï¼Œå¯èƒ½åªæœ‰ XYZ å’Œ labelï¼‰  
 è¾“å…¥ï¼šstep0äº§å‡ºçš„æ•°ç»„æ•°æ®  
 è¾“å‡ºï¼š.plyæ ¼å¼çš„ç‚¹äº‘æ–‡ä»¶ã€KD-Treeæˆ–å…¶ä»–ä¸­é—´ç»“æ„ç¼“å­˜ï¼ˆå¦‚ .npy/.pkl æ–‡ä»¶ï¼‰  
 æ•°æ®çŠ¶æ€ï¼šå·²å˜ä¸ºå¯è§†åŒ–æˆ–æ·±åº¦å­¦ä¹ æ¡†æ¶å¯è¯»æ ¼å¼  
 æ“ä½œï¼š  
    - aï¼‰æ„å»ºKD-Treeç©ºé—´ç»“æ„  
    - bï¼‰å†™å‡º.plyæ–‡ä»¶ï¼šXYZ+RGB+Label  

## 3. step2_data_process_randla.py:  
 è¾“å…¥ï¼š.plyæ ¼å¼çš„ç‚¹äº‘æ–‡ä»¶  
 è¾“å‡ºï¼šæ˜¯ä¿å­˜åœ¨output_dirç›®å½•ä¸‹çš„ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å¤„ç†åçš„ç‚¹äº‘ç‰¹å¾æ•°æ®æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯æ ‡ç­¾æ–‡ä»¶ã€‚  
 aï¼‰å¤„ç†åçš„ç‰¹å¾æ•°æ®æ–‡ä»¶(åŒå.txtæ–‡ä»¶),æŠŠåŸæ•°æ®ä¸­é™¤äº†æœ€åä¸€åˆ—(label)ä»¥å¤–çš„åˆ—éƒ½æå–å‡ºæ¥ï¼Œåœ¨ç¬¬4åˆ—æ’å…¥å€¼0ï¼Œç”¨äºä¹‹åçš„æ¨¡å‹è¾“å…¥ã€ç‰¹å¾å·¥ç¨‹ã€æ•°æ®å¢å¼ºç­‰ã€‚  
 bï¼‰æ ‡ç­¾æ–‡ä»¶(åŒå.labelæ–‡ä»¶),åªä¿å­˜æ¯ä¸€ä¸ªç‚¹çš„æ ‡ç­¾ï¼ˆæœ€åä¸€åˆ—0,é€šå¸¸ç”¨äºåˆ†ç±»ç›‘ç£å­¦ä¹ æ¨¡å‹çš„ç›®æ ‡å€¼ã€‚  
 æ•°æ®çŠ¶æ€ï¼šç»“æ„åŒ–ã€æ ‡å‡†åŒ–ã€å—åŒ–åçš„è®­ç»ƒè¾“å…¥æ•°æ®ã€‚  
 æ“ä½œï¼š  
    - aï¼‰å¯¹æ¯ä¸ªç‚¹äº‘æ–‡ä»¶æå–æ ‡ç­¾ï¼ˆæœ€åä¸€åˆ—ï¼‰ã€‚  
    - bï¼‰ä¿®æ”¹ç‚¹äº‘ç‰¹å¾ï¼ˆåœ¨æ¯è¡Œçš„ç¬¬å››åˆ—æ’å…¥0ï¼‰ã€‚  
    - cï¼‰å°†å¤„ç†åçš„æ•°æ®å’Œæ ‡ç­¾åˆ†åˆ«ä¿å­˜åˆ°è¾“å‡ºç›®å½•ä¸­ã€‚


# äºŒ. Noise_DataAugmentation**  
 ï¼ˆ1ï¼‰txts_guassian_noise.py  
 ï¼ˆ2ï¼‰txts_guassian_noise_limited.py
 ï¼ˆ3ï¼‰txt_guassian_noise_simple.py(å·²åœ¨ä¸Šä¼ æ–‡æ¡£ä¸­è¯´æ˜)  


## 1. txts_guassian_noise.pyï¼š  
 è¾“å…¥ï¼š.txt æ ¼å¼çš„ç‚¹äº‘ç‰¹å¾æ•°æ®æ–‡ä»¶ï¼ˆé€šå¸¸ç”± step2_data_process_randla.py è¾“å‡ºäº§ç”Ÿï¼‰  
 è¾“å‡ºï¼š  
 åœ¨æŒ‡å®šè¾“å‡ºç›®å½•ä¸­ç”Ÿæˆæ–°æ–‡ä»¶ï¼šæ–‡ä»¶åä¸ºåŸæ–‡ä»¶ååŠ åç¼€ _gauss5%.txt  
 æ•°æ®åŒ…å«åŸå§‹ç‚¹äº‘ + 5% é«˜æ–¯å™ªå£°ç‚¹  
 æ€»ç»“æ„ä¸ºï¼šxï¼Œyï¼Œzï¼Œrï¼Œgï¼Œbï¼Œlabelã€‚åŸå§‹ç‚¹labelä¿ç•™ï¼Œå™ªå£°ç‚¹æ ‡ç­¾ä¸º1ï¼‰    
 æ•°æ®çŠ¶æ€ï¼š  
 1ï¼‰åŸå§‹ç‚¹äº‘ + ç»“æ„ç›¸å…³çš„å™ªå£°ç‚¹  
 2ï¼‰å™ªå£°ç‚¹æŒ‰ç‚¹äº‘å¹³å‡å°ºåº¦ï¼ˆå‡å€¼åŠå¾„ï¼‰å’Œæ ‡å‡†å·®æ·»åŠ   
 æ“ä½œï¼š  
   - aï¼‰è¯»å–åŸå§‹ .txt ç‚¹äº‘æ•°æ®  
   - bï¼‰ç»Ÿè®¡å…¶ä¸‰ç»´ç©ºé—´ä¸­å¿ƒåŠç‚¹äº‘æ‰©å±•å°ºåº¦ï¼ˆå‡å€¼å’Œæ ‡å‡†å·®ï¼‰  
   - cï¼‰æŒ‰ 5% æ•°é‡ï¼Œå¾—å‡ºè¦æ·»åŠ çš„å™ªå£°ç‚¹çš„æ•°é‡ï¼Œå¹¶ä¸ºæ¯ä¸ªå™ªå£°ç‚¹æ·»åŠ é«˜æ–¯å™ªå£°  
   - dï¼‰ä¸ºæ¯ä¸ªå™ªå£°ç‚¹å¤åˆ¶åŸé¢œè‰²ä¿¡æ¯ï¼Œå¹¶å°†æ ‡ç­¾ç½®ä¸º 1ï¼Œè¡¨ç¤ºæ·»åŠ äº†é«˜æ–¯å™ªå£°  
   - eï¼‰å°†åŸå§‹æ•°æ®å’Œæ–°å™ªå£°ç‚¹åˆå¹¶ï¼Œä¿å­˜ä¸ºæ–° .txt æ–‡ä»¶ï¼ˆåŒç›®å½•ã€ä¸åŒåç¼€ï¼‰




## 2. txts_guassian_noise_limited.pyï¼š  
 è¾“å…¥ï¼šä¸ txt_guassian_noise.pyçš„è¾“å…¥ç›¸åŒã€‚   
 è¾“å‡ºï¼š  
 åœ¨æŒ‡å®šè¾“å‡ºç›®å½•ä¸­ç”Ÿæˆæ–°æ–‡ä»¶ï¼šæ–‡ä»¶åä¸ºåŸæ–‡ä»¶ååŠ åç¼€ _gauss5%_0.1m.txt  
 æ•°æ®åŒ…å«åŸå§‹ç‚¹äº‘ + åŠ å…¥çš„é«˜æ–¯å™ªå£°ç‚¹  
 æ‰€æœ‰å™ªå£°ç‚¹åæ ‡è¢«é™åˆ¶åœ¨åŸç‚¹äº‘çš„XYZèŒƒå›´å†…  
 æ•°æ®çŠ¶æ€ï¼š  
 åŸå§‹ç‚¹äº‘ + æ§åˆ¶åœ¨ç©ºé—´è¾¹ç•Œå†…çš„å™ªå£°ç‚¹ï¼ˆä»¥ noise_limit=0.1m ä¸ºæœ€å¤§æ‰°åŠ¨ï¼‰  
 æ¨¡æ‹Ÿè®¾å¤‡ç¨³å®šæ€§è¾ƒé«˜çš„å¹²æ‰°æˆ–ç¯å¢ƒä¸­å¾®å°æ‰°åŠ¨  
 æ“ä½œï¼š  
   - aï¼‰è¯»å–åŸå§‹ .txt ç‚¹äº‘æ•°æ®  
   - bï¼‰ç»Ÿè®¡å…¶XYZè½´çš„æœ€å°å€¼ä¸æœ€å¤§å€¼  
   - cï¼‰æŒ‰5%æ¯”ä¾‹é‡‡æ ·åŸå§‹ç‚¹ï¼Œå› ä¸ºè¦åŠ å…¥åŸç‚¹æ•°5%çš„å™ªå£°ç‚¹ï¼Œå¯¹å›ºå®šæ•°é‡é‡‡æ ·å‡ºæ¥çš„åŸå§‹ç‚¹åŠ å…¥å‡å€¼ä¸º0ã€æ ‡å‡†å·®ä¸º0.1çš„é«˜æ–¯æ‰°åŠ¨  
   - dï¼‰å¯¹æ‰°åŠ¨ååæ ‡åšè¾¹ç•Œè£å‰ªï¼Œç¡®ä¿ä¸è¶…è¿‡åŸå§‹ç‚¹äº‘è¾¹ç•Œ  
   - eï¼‰ä¸ºæ¯ä¸ªå™ªå£°ç‚¹å¤åˆ¶åŸé¢œè‰²ä¿¡æ¯ï¼Œå¹¶å°†æ ‡ç­¾ç½®ä¸º 1  
   - fï¼‰å°†åŸå§‹æ•°æ®ä¸æ–°å™ªå£°ç‚¹åˆå¹¶å¹¶ä¿å­˜ä¸ºæ–° .txt æ–‡ä»¶

 >txt_guassian_noise_limited.pyä¸txt_guassian_noise.pyçš„åŒºåˆ«ï¼š  
   - txt_guassian_noise.pyï¼š  
   1ï¼‰å™ªå£°å¹…åº¦ï¼šæ ¹æ®ç‚¹äº‘æ•´ä½“å°ºåº¦ï¼ˆå¹³å‡åŠå¾„ï¼‰è‡ªåŠ¨è®¡ç®—ã€‚  
   2ï¼‰å™ªå£°ä½ç½®é™åˆ¶ï¼šä¸é™åˆ¶åæ ‡èŒƒå›´ï¼Œå¯èƒ½è¶…å‡ºåŸå§‹ç‚¹äº‘è¾¹ç•Œã€‚  
   3ï¼‰å™ªå£°æ–¹å‘ï¼šéšæœºå•ä½å‘é‡æ–¹å‘ + è·ç¦»æ‰°åŠ¨ï¼ˆç»“æ„æ•æ„Ÿï¼‰ã€‚  
   4ï¼‰æ ‡ç­¾ï¼šæ·»åŠ çš„ç‚¹ç»Ÿä¸€ä¸º 1ã€‚  
   5ï¼‰æ§åˆ¶ç¨‹åº¦ï¼šæ›´éšæœºã€æ›´ä¾èµ–ç‚¹äº‘å½¢æ€ã€‚  
   - txt_guassian_noise_limited.pyï¼š  
   1ï¼‰å™ªå£°å¹…åº¦ï¼šå›ºå®šå™ªå£°å¼ºåº¦ï¼Œä½¿ç”¨ noise_limit å‚æ•°æ§åˆ¶ï¼ˆå¦‚ 0.1mï¼‰ã€‚  
   2ï¼‰å™ªå£°ä½ç½®é™åˆ¶ï¼šé™åˆ¶å™ªå£°ç‚¹åæ ‡åœ¨ XYZ æœ€å¤§/æœ€å°å€¼ä¹‹é—´ã€‚  
   3ï¼‰å™ªå£°æ–¹å‘ï¼šéšæœºæ–¹å‘ï¼ˆå„è½´ç‹¬ç«‹ï¼‰ï¼Œæ— ç»“æ„è€ƒè™‘ã€‚  
   4ï¼‰æ ‡ç­¾ï¼šç›¸åŒï¼Œç»Ÿä¸€ä¸º 1ã€‚  
   5ï¼‰æ§åˆ¶ç¨‹åº¦ï¼šæ›´å¯æ§ã€æ›´é€‚ç”¨äºå°é—­ç¯å¢ƒã€‚  

# ä¸‰. Noise_Analysis  
## ï¼ˆ1ï¼‰KNN_Noise_points.py  
  
 - KNN_Noise_points:  
 ä½œç”¨ï¼šåŸºäº K è¿‘é‚»æœç´¢ï¼ˆKNNï¼‰ä»åŸå§‹ç‚¹äº‘ä¸­è¯†åˆ«å‡ºä¸æ»¤æ³¢å¤„ç†åç‚¹äº‘å·®å¼‚è¾ƒå¤§çš„ç‚¹ä½œä¸ºå™ªå£°ç‚¹ï¼Œå¹¶å°†è¿™äº›å™ªå£°ç‚¹æå–ä¿å­˜ä¸ºå•ç‹¬çš„ PLY æ–‡ä»¶ã€‚  
 è¾“å…¥ï¼š  
 1ï¼‰original_cloudï¼šåŸå§‹ç‚¹äº‘æ•°æ®ï¼Œæ ¼å¼ä¸º .plyã€‚  
 2ï¼‰filtered_cloudï¼šæ»¤æ³¢åï¼ˆå³å»å™ªå¤„ç†è¿‡çš„ï¼‰ç‚¹äº‘æ•°æ®ï¼Œæ ¼å¼ä¹Ÿä¸º .plyã€‚  
 è¾“å‡ºï¼š  
 noise_points.plyï¼ˆä¿å­˜è¯†åˆ«å‡ºçš„å™ªå£°ç‚¹çš„ç‚¹äº‘æ–‡ä»¶ã€‚æ¯ä¸ªç‚¹çš„ç»“æ„é€šå¸¸åŒ…å« x, y, z ä¸‰ä¸ªåæ ‡å€¼ã€‚ï¼‰  
 æ•°æ®çŠ¶æ€ï¼š  
 1ï¼‰åŸå§‹ç‚¹äº‘ï¼šå«æœ‰æœªå¤„ç†å™ªå£°çš„å®Œæ•´ç‚¹äº‘æ•°æ®  
 2ï¼‰æ»¤æ³¢åç‚¹äº‘ï¼šé€šè¿‡æ»¤æ³¢ç®—æ³•ï¼ˆå¦‚åŠå¾„æ»¤æ³¢ï¼‰æ¶ˆé™¤éƒ¨åˆ†å™ªå£°ç‚¹åçš„ç‚¹äº‘  
 3ï¼‰è¾“å‡ºçš„å™ªå£°ç‚¹ï¼šè¢« KNN åˆ¤æ–­ä¸ºâ€œå¼‚å¸¸â€ï¼ˆä¸æ»¤æ³¢ç‚¹äº‘å·®å¼‚å¤§ï¼‰çš„åŸå§‹ç‚¹  
 æ“ä½œï¼š  
   - aï¼‰ä½¿ç”¨ PlyData.read åŠ è½½åŸå§‹å’Œæ»¤æ³¢åçš„ .ply æ–‡ä»¶ä¸ºç‚¹äº‘å¯¹è±¡ï¼ˆPCLï¼‰  
   - bï¼‰å°†è¯»å–çš„ç‚¹äº‘è½¬æ¢ä¸º pcl.PointCloud æ ¼å¼ï¼Œä¾¿äºåç»­æ“ä½œ  
   - cï¼‰åˆ›å»º k-d treeï¼ˆK è¿‘é‚»æœç´¢æ ‘ï¼‰ï¼Œå¯¹åŸå§‹ç‚¹äº‘è¿›è¡Œç»“æ„åŒ–ä»¥ä¾¿æŸ¥æ‰¾æœ€è¿‘é‚» 
   - dï¼‰å¯¹æ»¤æ³¢åçš„ç‚¹äº‘ä¸­çš„æ¯ä¸ªç‚¹ï¼Œæ‰§è¡Œ K è¿‘é‚»æœç´¢ï¼Œæ‰¾å‡ºå®ƒåœ¨åŸå§‹ç‚¹äº‘ä¸­çš„é‚»è¿‘ç‚¹  
   - eï¼‰æ¯”è¾ƒåŸå§‹ç‚¹å’Œé‚»è¿‘ç‚¹çš„å‡å€¼å·®å¼‚ï¼Œå¦‚æœè¶…è¿‡é˜ˆå€¼ threshold=0.01ï¼Œåˆ¤å®šä¸ºå™ªå£°ç‚¹  
   - fï¼‰å°†å™ªå£°ç‚¹ä¿å­˜åˆ° noise_points.ply è¾“å‡ºæ–‡ä»¶ä¸­  

  >åˆ¤æ–­ç‚¹äº‘ä¸­ä¸€ä¸ªç‚¹æ˜¯å¦ä¸ºâ€œå¼‚å¸¸ç‚¹â€/â€œå™ªå£°ç‚¹â€ï¼š  
  - å¸¸è§çš„ç‚¹äº‘å»å™ªæ€æƒ³ï¼šçœŸå®ç‚¹äº‘ä¸­çš„ç‚¹ä¸å…¶é‚»å±…çš„ç©ºé—´å…³ç³»åº”è¯¥æ˜¯ä¸€è‡´æˆ–è¿ç»­çš„ï¼›è€Œå™ªå£°ç‚¹é€šå¸¸ å­¤ç«‹ã€åç¦»å…¶é‚»å±…ã€‚KNNï¼ˆK-Nearest Neighborï¼‰ç®—æ³•åœ¨è¿™é‡Œç”¨æ¥åº¦é‡â€œä¸€ä¸ªç‚¹ä¸å‘¨å›´ç‚¹ä¹‹é—´çš„ç›¸ä¼¼æ€§â€ã€‚  
  - åˆ¤æ–­çš„å…·ä½“æ“ä½œï¼š  
    aï¼‰å¯¹ç‚¹äº‘ä¸­æ¯ä¸ªåŸå§‹ç‚¹ï¼Œå–å‡ºè¯¥ç‚¹çš„xyzåæ ‡  
    bï¼‰åœ¨æ»¤æ³¢åçš„ç‚¹äº‘ filtered_cloud ä¸­æ‰¾åˆ°ä¸å®ƒæœ€æ¥è¿‘çš„ k ä¸ªç‚¹ï¼ˆç”¨ KD-Tree æŸ¥æ‰¾ï¼‰  
    cï¼‰è®¡ç®—â€œå‡å€¼å·®å¼‚â€ï¼šåŸå§‹ç‚¹mean(x, y, z)ï¼Œé‚»å±…ç‚¹é›†mean(mean(x1), mean(y1), mean(z1), ..., mean(xk))ï¼›ç„¶ååšå‡å€¼ä¹‹é—´çš„ç»å¯¹å·®å€¼æ¯”è¾ƒnp.abs(np.mean(original_point) - np.mean(neighbors)) > thresholdï¼›å¦‚æœå·®å€¼å¤§äº threshold=0.01ï¼Œå°±è¯´æ˜è¿™ä¸ªç‚¹â€œä¸å‘¨å›´ä¸ä¸€è‡´â€ï¼Œå¯èƒ½æ˜¯å™ªå£°  
  - å™ªå£°ç‚¹é€šå¸¸çš„ç‰¹å¾ï¼š  
    ç¦»æ•£ã€ç¨€ç–ï¼Œä¸å‘¨å›´ç»“æ„å·®å¼‚å¤§ã€‚æ¯”å¦‚ä¸€å †å¯†é›†çš„ç‚¹çªç„¶å‡ºç°ä¸€ä¸ªè¿œç¦»å®ƒä»¬çš„å­¤ç«‹ç‚¹ï¼Œå¾ˆå¯èƒ½æ˜¯ä¼ æ„Ÿå™¨è¯¯å·®ã€åå°„å¹²æ‰°ç­‰å¯¼è‡´çš„å¼‚å¸¸é‡‡æ ·ã€‚  
  - å‡å€¼æ˜¯è¡¡é‡â€œé›†ä¸­è¶‹åŠ¿â€çš„æŒ‡æ ‡ï¼š  
    çœŸå®ç‚¹äº‘ä¸­çš„å±€éƒ¨åŒºåŸŸçš„ç‚¹é€šå¸¸æ˜¯è¿è´¯çš„ï¼Œå…¶ç©ºé—´ä½ç½®å‡å€¼æ¥è¿‘ã€‚è‹¥æŸç‚¹ä¸å…¶é‚»åŸŸå‡å€¼åå·®å¾ˆå¤§ï¼Œå®ƒåœ¨å‡ ä½•ç»“æ„ä¸Šå°±æ˜¯â€œçªå…€çš„â€ã€‚  
  - ä¸ºä»€ä¹ˆç”¨ 0.01 ä½œä¸ºé˜ˆå€¼ï¼š  
    è¿™ä¸ªå€¼æ˜¯ç»éªŒè®¾ç½®çš„ï¼Œè¡¨ç¤ºâ€œç‚¹ä¹‹é—´åœ¨ç©ºé—´ä¸Šçš„å¹³å‡å…è®¸åç§»é‡â€ã€‚å¦‚æœä½ çš„ç‚¹äº‘å•ä½æ˜¯ ç±³ï¼Œé‚£ä¹ˆ 0.01 å°±æ˜¯ 1 å˜ç±³ã€‚è¶…å‡ºè¿™ä¸ªå°±å¯èƒ½æ˜¯â€œå¼‚å¸¸å€¼â€ã€‚  

# å››. Calculate     
## (1) txt_avg_columns(selected).py:
- **è¾“å…¥**ï¼š  
  - ä»»æ„æ–‡æœ¬æ–‡ä»¶ï¼Œæ¯è¡ŒåŒ…å«è‹¥å¹²æ•°å€¼å­—æ®µï¼ˆå¦‚ `/path/to/input.txt`ï¼‰
  - ç”¨æˆ·æŒ‡å®šè¦å‚ä¸å‡å€¼è®¡ç®—çš„åˆ—ç´¢å¼•ï¼ˆå¦‚ 0,1,2ï¼‰

- **è¾“å‡º**ï¼š  
  - æ–°æ–‡æœ¬æ–‡ä»¶ï¼Œæ¯è¡Œæœ«å°¾æ·»åŠ æ‰€é€‰åˆ—çš„å‡å€¼ï¼ˆå¦‚ `/path/to/output.txt`ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹æ•°æ® + å‡å€¼ç»“æœï¼ˆæ¯è¡Œæ–°å¢ä¸€åˆ—ï¼‰

- **æ“ä½œ**ï¼š  
  1. è¯»å–è¾“å…¥æ–‡ä»¶
  2. æŒ‰ç”¨æˆ·æŒ‡å®šåˆ—ç´¢å¼•æå–æ•°å€¼
  3. è®¡ç®—å‡å€¼å¹¶æ·»åŠ åˆ°æ¯è¡Œæœ«å°¾
  4. å†™å…¥æ–°æ–‡ä»¶

## (2) mIoU_OA.py:
- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒåŒ…å«æˆå¯¹çš„ `_label.txt`ï¼ˆçœŸå®æ ‡ç­¾ï¼‰å’Œ `_pred.txt`ï¼ˆé¢„æµ‹æ ‡ç­¾ï¼‰æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - è¯„ä¼°ç»“æœæ–‡æœ¬æ–‡ä»¶ï¼ˆå¦‚ `result.txt`ï¼‰ï¼Œå†…å®¹åŒ…æ‹¬ mIoUã€OAã€å„ç±»åˆ« IoU

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æ¯è¡Œä¸€ä¸ªæ ‡ç­¾ï¼Œç»Ÿè®¡æ··æ·†çŸ©é˜µï¼Œè¾“å‡ºæ•´ä½“è¯„ä¼°æŒ‡æ ‡

- **æ“ä½œ**ï¼š  
  1. éå†æ–‡ä»¶å¤¹ï¼Œè¯»å–æ‰€æœ‰æ ‡ç­¾/é¢„æµ‹æ–‡ä»¶
  2. è®¡ç®—æ··æ·†çŸ©é˜µ
  3. ç»Ÿè®¡å„ç±» IoUã€mIoUã€OA
  4. å†™å…¥ç»“æœæ–‡ä»¶

## (3)filtered_labels_number.py:
- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ `.txt` ç‚¹äº‘æ•°æ®æ–‡ä»¶ï¼Œæ¯è¡Œæœ€åä¸€åˆ—ä¸ºæ ‡ç­¾

- **è¾“å‡º**ï¼š  
  - æ ‡ç­¾ç»Ÿè®¡ç»“æœï¼Œæ”¯æŒ `.txt` æˆ– `.csv` æ ¼å¼ï¼ˆå¦‚ `label_count_result.csv`ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘æ ‡ç­¾åˆ†å¸ƒç»Ÿè®¡

- **æ“ä½œ**ï¼š  
  1. éå†æ‰€æœ‰æ–‡ä»¶ï¼Œç»Ÿè®¡æ¯ä¸ªæ ‡ç­¾å‡ºç°æ¬¡æ•°
  2. è¾“å‡ºæ¯ä¸ªæ–‡ä»¶åŠæ€»ä½“æ ‡ç­¾åˆ†å¸ƒ
  3. ä¿å­˜ç»Ÿè®¡ç»“æœä¸ºæ–‡æœ¬æˆ– CSV

## (4)filter_evaluation_tool.py:
- **è¾“å…¥**ï¼š  
  - ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥å››ä¸ªç‚¹æ•°ï¼šåŸå§‹éå™ªå£°ç‚¹ Onã€åŸå§‹å™ªå£°ç‚¹ Otã€æ»¤æ³¢åä¿ç•™çš„éå™ªå£°ç‚¹ Rnã€æ»¤æ³¢åä¿ç•™çš„å™ªå£°ç‚¹ Rt

- **è¾“å‡º**ï¼š  
  - è¯„ä¼°ç»“æœï¼ˆå¯é€‰ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ç‚¹æ•°ç»Ÿè®¡ä¸å„ç±»æ»¤æ³¢æ€§èƒ½æŒ‡æ ‡

- **æ“ä½œ**ï¼š  
  1. è¾“å…¥å‚æ•°
  2. è®¡ç®— IOU0ã€IOU1ã€Qnã€Accã€Eb ç­‰æŒ‡æ ‡
  3. æ˜¾ç¤ºå¹¶å¯ä¿å­˜ç»“æœ

## (5)draw_MultiState_x(frequency)_y(value).py:
- **è¾“å…¥**ï¼š  
  - æ•°æ®æ–‡ä»¶ï¼ˆå¦‚ `data.txt`ï¼‰ï¼ŒåŒ…å«å¤šä¸ªçŠ¶æ€ï¼ˆå¦‚ Ef=0.25 eVï¼‰ï¼Œæ¯ä¸ªçŠ¶æ€ä¸‹æœ‰é¢‘ç‡-æ•°å€¼å¯¹

- **è¾“å‡º**ï¼š  
  - ç»˜åˆ¶å¹¶ä¿å­˜é¢‘ç‡æ›²çº¿å›¾ï¼ˆå¦‚ `output_images/data_processed.png`ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - å¤šçŠ¶æ€é¢‘ç‡-æ•°å€¼æ›²çº¿

- **æ“ä½œ**ï¼š  
  1. è¯»å–æ•°æ®æ–‡ä»¶ï¼Œè§£æå„çŠ¶æ€æ•°æ®
  2. ç”¨æˆ·è‡ªå®šä¹‰ç»˜å›¾å‚æ•°
  3. ç»˜åˆ¶æ‰€æœ‰çŠ¶æ€æ›²çº¿å¹¶ä¿å­˜å›¾ç‰‡

## (6) Confusion_matrix_visualization.py:
- **è¾“å…¥**ï¼š  
  - æ··æ·†çŸ©é˜µæ•°æ®ï¼ˆæ”¯æŒæ–‡ä»¶è¯»å–æˆ–æ‰‹åŠ¨è¾“å…¥ï¼‰ï¼Œå¯ä¸º `.txt` æˆ– `.csv` æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - æ··æ·†çŸ©é˜µå¯è§†åŒ–å›¾ç‰‡ï¼ˆå¦‚ `*_matrix.png`ï¼‰ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æ··æ·†çŸ©é˜µæ•°å€¼ï¼Œç±»åˆ«æ ‡ç­¾

- **æ“ä½œ**ï¼š  
  1. è¯»å–æˆ–æ‰‹åŠ¨è¾“å…¥æ··æ·†çŸ©é˜µ
  2. ç”¨æˆ·è‡ªå®šä¹‰ç±»åˆ«æ ‡ç­¾ã€é…è‰²æ–¹æ¡ˆ
  3. ç»˜åˆ¶å¹¶ä¿å­˜æ··æ·†çŸ©é˜µå›¾åƒ


# äº”.cpp_wrappers  
## (1)cpp_subsampling:
- **ä½œç”¨**ï¼š  
  å®ç°ç‚¹äº‘çš„ç½‘æ ¼åŒ–é™é‡‡æ ·ï¼ˆgrid subsamplingï¼‰ï¼Œå¹¶é€šè¿‡ C++/Python å°è£…ä¸º Python å¯è°ƒç”¨æ¨¡å—ã€‚
- **ä¸»è¦å†…å®¹**ï¼š  
  - `grid_subsampling/`ï¼šæ ¸å¿ƒ C++ é™é‡‡æ ·ç®—æ³•å®ç°ï¼ˆ.cpp/.hï¼‰
  - `wrapper.cpp`ï¼šC++ å°è£…æ¥å£ï¼Œæš´éœ² compute æ–¹æ³•ç»™ Python
  - `setup.py`ï¼šç¼–è¯‘é…ç½®è„šæœ¬ï¼Œç”Ÿæˆ `.so` åŠ¨æ€åº“
  - `grid_subsampling.cpython-39-xxx.so`ï¼šç¼–è¯‘ç”Ÿæˆçš„ Python æ‰©å±•æ¨¡å—
  - `__init__.py`ï¼šPython åŒ…åˆå§‹åŒ–æ–‡ä»¶
- **å…¸å‹ç”¨é€”**ï¼š  
  åœ¨ Python ä¸­é€šè¿‡ `from cpp_wrappers.cpp_subsampling import grid_subsampling` è°ƒç”¨é«˜æ•ˆçš„ C++ ç‚¹äº‘é™é‡‡æ ·åŠŸèƒ½ã€‚

## (2)cpp_utils:
- **ä½œç”¨**ï¼š  
  æä¾›ç‚¹äº‘å¤„ç†çš„åŸºç¡€ C++ å·¥å…·å‡½æ•°å’Œç¬¬ä¸‰æ–¹åº“æ”¯æŒã€‚
- **ä¸»è¦å†…å®¹**ï¼š  
  - `cloud/`ï¼šç‚¹äº‘æ•°æ®ç»“æ„ä¸æ“ä½œï¼ˆå¦‚ cloud.cpp/cloud.hï¼‰
  - `nanoflann/`ï¼šKD-Tree å¿«é€Ÿæœ€è¿‘é‚»æŸ¥æ‰¾åº“ï¼ˆnanoflann.hppï¼Œheader-onlyï¼‰
  - `__init__.py`ï¼šPython åŒ…åˆå§‹åŒ–æ–‡ä»¶
- **å…¸å‹ç”¨é€”**ï¼š  
  è¢« cpp_subsamplingã€nearest_neighbors ç­‰æ¨¡å—å¼•ç”¨ï¼Œå®ç°ç‚¹äº‘æ•°æ®ç»“æ„ã€ç©ºé—´ç´¢å¼•ç­‰åº•å±‚åŠŸèƒ½ã€‚

## (3)`__pycache__`
- **ä½œç”¨**ï¼š  
  å­˜æ”¾ Python è§£é‡Šå™¨è‡ªåŠ¨ç”Ÿæˆçš„å­—èŠ‚ç ç¼“å­˜æ–‡ä»¶ï¼ˆ.pycï¼‰ï¼ŒåŠ é€Ÿæ¨¡å—åŠ è½½ã€‚
- **ä¸»è¦å†…å®¹**ï¼š  
  - `__init__.cpython-39.pyc` ç­‰
- **å…¸å‹ç”¨é€”**ï¼š  
  Python åŒ…çš„è¿è¡Œæ—¶ä¼˜åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†ã€‚

æ€»ç»“ï¼š  
- `cpp_subsampling`ï¼šç‚¹äº‘é™é‡‡æ ·ç®—æ³•åŠ Python å°è£…
- `cpp_utils`ï¼šç‚¹äº‘åŸºç¡€å·¥å…·ä¸ KD-Tree æ”¯æŒ
- `__pycache__`ï¼šPython å­—èŠ‚ç ç¼“å­˜  


# å…­.Data_process æ–‡ä»¶å¤¹è¯´æ˜

## 1. txt_to_ply_with_rgb_label.py

- **è¾“å…¥**ï¼š  
  - .txt ç‚¹äº‘æ•°æ®æ–‡ä»¶ï¼Œæ ¼å¼ä¸º x, y, z, r, g, b, label

- **è¾“å‡º**ï¼š  
  - .ply æ ¼å¼ç‚¹äº‘æ–‡ä»¶ï¼ŒåŒ…å« RGB é¢œè‰²å’Œæ ‡ç­¾ä¿¡æ¯

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘æ•°æ®ï¼ˆæ–‡æœ¬ï¼‰ â†’ å¯è§†åŒ–å‹å¥½çš„ PLY æ ¼å¼ï¼ˆå¸¦é¢œè‰²å’Œæ ‡ç­¾ï¼‰

- **æ“ä½œ**ï¼š  
  1. è¯»å– .txt æ–‡ä»¶ï¼Œæ‹†åˆ†åæ ‡ã€é¢œè‰²ã€æ ‡ç­¾
  2. åˆå¹¶ä¸ºä¸€è¡Œä¸ƒåˆ—
  3. å†™å…¥ .ply æ–‡ä»¶å¹¶æ’å…¥å¤´éƒ¨ä¿¡æ¯

---

## 2. txt_to_npy.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .txt ç‚¹äº‘æ•°æ®æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - å¯¹åº”çš„ .npy æ–‡ä»¶ï¼Œä¿å­˜åˆ°æŒ‡å®šç›®å½•

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æ–‡æœ¬æ ¼å¼ç‚¹äº‘æ•°æ® â†’ NumPy äºŒè¿›åˆ¶æ ¼å¼ï¼ˆåŠ é€Ÿåç»­åŠ è½½ï¼‰

- **æ“ä½œ**ï¼š  
  1. æ‰¹é‡è¯»å– .txt æ–‡ä»¶
  2. è½¬æ¢ä¸º numpy æ•°ç»„
  3. ä¿å­˜ä¸º .npy æ–‡ä»¶

---

## 3. npy_to_txt.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .npy æ–‡ä»¶ï¼ˆæ¨¡å‹è¾“å‡ºæˆ–ç‰¹å¾ï¼‰

- **è¾“å‡º**ï¼š  
  - å¯¹åº”çš„ .txt æ–‡ä»¶ï¼Œä¿å­˜åˆ°æŒ‡å®šç›®å½•

- **æ•°æ®çŠ¶æ€**ï¼š  
  - äºŒè¿›åˆ¶ .npy â†’ æ–‡æœ¬ .txtï¼ˆä¾¿äºæŸ¥çœ‹å’Œåå¤„ç†ï¼‰

- **æ“ä½œ**ï¼š  
  1. æ‰¹é‡è¯»å– .npy æ–‡ä»¶
  2. ä¿å­˜ä¸º .txt æ–‡ä»¶

---

## 4. npy_to_label.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .npy æ–‡ä»¶ï¼ˆé€šå¸¸ä¸ºé¢„æµ‹æ ‡ç­¾ï¼‰

- **è¾“å‡º**ï¼š  
  - å¯¹åº”çš„ .label æ–‡ä»¶ï¼ˆæ¯è¡Œä¸€ä¸ªæ•´æ•°æ ‡ç­¾ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æµ®ç‚¹å‹æ ‡ç­¾ â†’ æ•´æ•°å‹æ ‡å‡†æ ‡ç­¾æ–‡ä»¶

- **æ“ä½œ**ï¼š  
  1. è¯»å– .npy æ–‡ä»¶
  2. è½¬æ¢ä¸ºæ•´æ•°
  3. ä¿å­˜ä¸º .label æ–‡ä»¶

---

## 5. txt_rgb_(float_to_int).py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .txt æ–‡ä»¶ï¼ˆRGBä¸ºæµ®ç‚¹æ•°ï¼‰

- **è¾“å‡º**ï¼š  
  - å¤„ç†åçš„ .txt æ–‡ä»¶ï¼ˆRGBå˜ä¸ºæ•´æ•°ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - RGBé¢œè‰²å€¼ä» float â†’ intï¼Œæ ‡å‡†åŒ–ä¸º [0, 255] æ•´æ•°

- **æ“ä½œ**ï¼š  
  1. è¯»å–æ¯è¡Œæ•°æ®
  2. å°†ç¬¬4-6åˆ—ï¼ˆRGBï¼‰å–æ•´
  3. ä¿å­˜åˆ°æ–°æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - è½¬æ¢å‰ï¼šRGBä¸ºæµ®ç‚¹æ•°  
  - è½¬æ¢åï¼šRGBä¸ºæ•´æ•°ï¼Œæ›´é€‚åˆå¯è§†åŒ–å’Œæ¨¡å‹è¾“å…¥

---

## 6. txt_insert_column.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .txt æ–‡ä»¶ï¼ˆæ ¼å¼ä¸º x y z r g bï¼‰

- **è¾“å‡º**ï¼š  
  - å¤„ç†åçš„ .txt æ–‡ä»¶ï¼ˆæ ¼å¼å˜ä¸º x y z 0 r g bï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æ’å…¥ä¸€åˆ—å…¨ä¸º0çš„ä¼ªå¼ºåº¦å€¼ï¼Œä¾¿äºæ¨¡å‹è¾“å…¥æ ¼å¼ç»Ÿä¸€

- **æ“ä½œ**ï¼š  
  1. è¯»å–åŸå§‹æ•°æ®
  2. åœ¨ç¬¬3å’Œç¬¬4åˆ—ä¹‹é—´æ’å…¥ä¸€åˆ—0
  3. ä¿å­˜åˆ°æ–°æ–‡ä»¶å¤¹

---

## 7. txt_divide_to_xyzrgb_labels.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .txt æ–‡ä»¶ï¼ˆæ ¼å¼ä¸º x y z r g b labelï¼‰

- **è¾“å‡º**ï¼š  
  - xyzrgbæ–‡ä»¶ï¼ˆå‰å…­åˆ—ï¼‰ï¼Œ.labelsæ–‡ä»¶ï¼ˆæœ€åä¸€åˆ—ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ç‚¹äº‘æ•°æ®ä¸æ ‡ç­¾åˆ†ç¦»ï¼Œä¾¿äºè¯­ä¹‰åˆ†å‰²æ¨¡å‹å¤„ç†

- **æ“ä½œ**ï¼š  
  1. è¯»å–æ•°æ®
  2. åˆ†ç¦»å‰å…­åˆ—å’Œæœ€åä¸€åˆ—
  3. åˆ†åˆ«ä¿å­˜ä¸º .txt å’Œ .labels æ–‡ä»¶

---

## 8. remove_txt_commas.py

- **è¾“å…¥**ï¼š  
  - å•ä¸ª .txt æ–‡ä»¶ï¼ˆæ¯è¡Œæœ«å°¾æœ‰é€—å·ï¼‰

- **è¾“å‡º**ï¼š  
  - æ–°çš„ .txt æ–‡ä»¶ï¼ˆå»æ‰æ¯è¡Œæœ«å°¾é€—å·ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æ¸…ç†æ ¼å¼ï¼Œä¾¿äºåç»­å¤„ç†

- **æ“ä½œ**ï¼š  
  1. è¯»å–åŸæ–‡ä»¶
  2. æ›¿æ¢æ¯è¡Œæœ«å°¾çš„é€—å·ä¸ºæ¢è¡Œ
  3. ä¿å­˜æ–°æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - è½¬æ¢å‰ï¼šæ¯è¡Œä»¥é€—å·ç»“å°¾  
  - è½¬æ¢åï¼šæ¯è¡Œæ— é€—å·ç»“å°¾

---

## 9. ply_to_txt.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ .ply æ–‡ä»¶ï¼ˆç‚¹äº‘ï¼‰

- **è¾“å‡º**ï¼š  
  - å¯¹åº”çš„ .txt æ–‡ä»¶ï¼ˆç‚¹äº‘æ•°æ®ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - PLYæ ¼å¼ â†’ TXTæ ¼å¼ï¼Œä¾¿äºæ–‡æœ¬å¤„ç†å’Œæ¨¡å‹è¾“å…¥

- **æ“ä½œ**ï¼š  
  1. è¯»å– .ply æ–‡ä»¶ï¼ˆæ”¯æŒäºŒè¿›åˆ¶/ASCIIï¼‰
  2. æå–ç‚¹æ•°æ®
  3. ä¿å­˜ä¸º .txt æ–‡ä»¶

---

## 10. combine_txt_txt_line.py

- **è¾“å…¥**ï¼š  
  - ä¸¤ä¸ª .txt æ–‡ä»¶ï¼ˆé€è¡Œå¯¹åº”ï¼‰

- **è¾“å‡º**ï¼š  
  - åˆå¹¶åçš„ .txt æ–‡ä»¶ï¼ˆæ¯è¡Œæ‹¼æ¥ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ä¸¤æ–‡ä»¶å†…å®¹é€è¡Œåˆå¹¶ä¸ºä¸€è¡Œ

- **æ“ä½œ**ï¼š  
  1. é€è¡Œè¯»å–ä¸¤ä¸ªæ–‡ä»¶
  2. æ‹¼æ¥æ¯è¡Œå†…å®¹
  3. å†™å…¥æ–°æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - åˆå¹¶æ–¹å¼ï¼šé€è¡Œ zip æ‹¼æ¥  
  - ä¸ combine_txt_txt_file.py åŒºåˆ«ï¼šåè€…æ˜¯æ•´æ–‡ä»¶æ‹¼æ¥

---

## 11. combine_txt_txt_file.py

- **è¾“å…¥**ï¼š  
  - ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸‹åŒå .txt æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - åˆå¹¶åçš„ .txt æ–‡ä»¶ï¼ˆå†…å®¹é¡ºåºæ‹¼æ¥ï¼Œä¸­é—´åŠ æ¢è¡Œï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ä¸¤æ–‡ä»¶å†…å®¹æ•´ä½“åˆå¹¶

- **æ“ä½œ**ï¼š  
  1. æŸ¥æ‰¾åŒåæ–‡ä»¶
  2. æ‹¼æ¥å†…å®¹ï¼ˆæ–‡ä»¶Aå†…å®¹ + æ¢è¡Œ + æ–‡ä»¶Bå†…å®¹ï¼‰
  3. ä¿å­˜åˆ°æ–°ç›®å½•

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - åˆå¹¶æ–¹å¼ï¼šæ•´æ–‡ä»¶æ‹¼æ¥  
  - ä¸ combine_txt_txt_line.py åŒºåˆ«ï¼šå‰è€…æ˜¯é€è¡Œï¼Œåè€…æ˜¯æ•´æ–‡ä»¶

---

## 12. combine_txt_labels.py

- **è¾“å…¥**ï¼š  
  - ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ .txt æ–‡ä»¶å’Œå¯¹åº” .labels æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - åˆå¹¶åçš„ _merged.txt æ–‡ä»¶ï¼ˆæ¯è¡Œæ‹¼æ¥æ ‡ç­¾ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ç‚¹äº‘æ•°æ®ä¸æ ‡ç­¾åˆå¹¶ä¸ºä¸€è¡Œ

- **æ“ä½œ**ï¼š  
  1. é…å¯¹åŒå .txt å’Œ .labels æ–‡ä»¶
  2. é€è¡Œæ‹¼æ¥å†…å®¹
  3. ä¿å­˜åˆ°ç›®æ ‡æ–‡ä»¶å¤¹

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - åˆå¹¶å‰ï¼šç‚¹äº‘å’Œæ ‡ç­¾åˆ†å¼€  
  - åˆå¹¶åï¼šæ¯è¡ŒåŒ…å«ç‚¹äº‘æ•°æ®å’Œæ ‡ç­¾

---

## 13. combine_txt_labels_single.py

- **è¾“å…¥**ï¼š  
  - å•ä¸ª .txt æ–‡ä»¶å’Œå•ä¸ª .label æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - åˆå¹¶åçš„ _merged.txt æ–‡ä»¶

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ç‚¹äº‘æ•°æ®ä¸æ ‡ç­¾åˆå¹¶ä¸ºä¸€è¡Œ

- **æ“ä½œ**ï¼š  
  1. æ ¡éªŒæ–‡ä»¶åä¸€è‡´æ€§
  2. é€è¡Œæ‹¼æ¥å†…å®¹
  3. ä¿å­˜æ–°æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - ä¸ combine_txt_labels.py åŒºåˆ«ï¼šå‰è€…æ‰¹é‡å¤„ç†ï¼Œåè€…å•æ–‡ä»¶å¤„ç†

---

## 14. combine_ply_ply(xyzlabel).py

- **è¾“å…¥**ï¼š  
  - ä¸¤ä¸ª .ply æ–‡ä»¶ï¼ˆåœ°é¢ç‚¹å’Œé¢„æµ‹ç‚¹ï¼Œæ”¯æŒ x y z label æˆ– x y z r g b labelï¼‰

- **è¾“å‡º**ï¼š  
  - åˆå¹¶åçš„ .ply æ–‡ä»¶ï¼ˆx y z labelï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ä¸¤ç»„ç‚¹äº‘æ•°æ®åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œç»Ÿä¸€ç»“æ„

- **æ“ä½œ**ï¼š  
  1. è¯»å–ä¸¤ä¸ª .ply æ–‡ä»¶ï¼Œè‡ªåŠ¨è¯†åˆ«ç»“æ„
  2. æå– xyz å’Œ label
  3. åˆå¹¶å¹¶ä¿å­˜ä¸ºæ–° .ply æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - åˆå¹¶å‰ï¼šä¸¤ä¸ªç‹¬ç«‹çš„ç‚¹äº‘æ–‡ä»¶  
  - åˆå¹¶åï¼šä¸€ä¸ªæ–‡ä»¶åŒ…å«æ‰€æœ‰ç‚¹åŠæ ‡ç­¾ï¼Œä¾¿äºå¯è§†åŒ–å’Œåå¤„ç†

---

# ä¸ƒ.DBSCAN æ–‡ä»¶å¤¹è¯´æ˜

## 1. csv_DBscan_KMeans_gps.py

- **è¾“å…¥**ï¼š  
  - æ— è¡¨å¤´çš„ .csv æ–‡ä»¶ï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªå€¼ï¼šç»åº¦ï¼ˆlonï¼‰ã€çº¬åº¦ï¼ˆlatï¼‰

- **è¾“å‡º**ï¼š  
  - æ§åˆ¶å°æ‰“å°æ¯ä¸ªèšç±»ç°‡çš„ä¸­å¿ƒç‚¹åæ ‡ï¼ˆç»åº¦ã€çº¬åº¦ï¼‰
  - èšç±»ä¸­å¿ƒä¿å­˜ä¸º .csv æ–‡ä»¶ï¼ˆå¦‚ `xxx_clustered.csv`ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ GPS åæ ‡æ•°æ® â†’ èšç±»ç°‡åˆ†ç»„ â†’ æ¯ç°‡ä¸­å¿ƒç‚¹åæ ‡

- **æ“ä½œ**ï¼š  
  1. è¯»å–æ‰€æœ‰ .csv æ–‡ä»¶ï¼Œæå–ç»çº¬åº¦
  2. ä½¿ç”¨ DBSCANï¼ˆhaversine è·ç¦»ï¼‰è¿›è¡Œèšç±»
  3. å¯¹æ¯ä¸ªèšç±»ç°‡ç”¨ KMeans æå–ä¸­å¿ƒç‚¹
  4. æ‰“å°èšç±»æ•°å’Œä¸­å¿ƒç‚¹åæ ‡
  5. ä¿å­˜èšç±»ä¸­å¿ƒä¸º .csv æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - é€‚ç”¨äºåœ°ç†åæ ‡èšç±»åˆ†æï¼ˆå¦‚è½¦è¾†ã€èŠ‚ç‚¹èšåˆï¼‰
  - åªè¾“å‡ºä¸­å¿ƒç‚¹ï¼Œä¸åšå›¾åƒå¯è§†åŒ–
  - ä¸åšæ•°æ®æ ‡å‡†åŒ–ï¼ˆç»çº¬åº¦ä¸èƒ½ç¼©æ”¾ï¼‰

---

## 2. picture_DBscan_leabel.py

- **è¾“å…¥**ï¼š  
  - æœ‰è¡¨å¤´çš„ .csv æ–‡ä»¶ï¼ŒåŒ…å«æŒ‡æ ‡å­—æ®µï¼ˆå¦‚ VAR00003ã€VAR00004ï¼‰

- **è¾“å‡º**ï¼š  
  - èšç±»ç»“æœ .csv æ–‡ä»¶ï¼ˆå¦‚ `xxx_dbscan_epsX_minY.csv`ï¼Œæ¯è¡Œå¸¦èšç±»æ ‡ç­¾ï¼‰
  - èšç±»å¯è§†åŒ–å›¾åƒ .png æ–‡ä»¶ï¼ˆå¦‚ `xxx_dbscan_plot.png`ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹æŒ‡æ ‡æ•°æ® â†’ æ ‡å‡†åŒ– â†’ èšç±»åˆ†ç»„ â†’ å¯è§†åŒ–

- **æ“ä½œ**ï¼š  
  1. è¯»å– .csv æ–‡ä»¶ï¼Œæå–æŒ‡å®šæŒ‡æ ‡å­—æ®µ
  2. æ ‡å‡†åŒ–æ•°æ®ï¼ˆpreprocessing.scaleï¼‰
  3. ä½¿ç”¨ DBSCANï¼ˆæ¬§æ°è·ç¦»ï¼‰è¿›è¡Œèšç±»
  4. ä¿å­˜èšç±»ç»“æœä¸º .csv æ–‡ä»¶
  5. ç»˜åˆ¶èšç±»åˆ†å¸ƒå›¾å¹¶ä¿å­˜ä¸º .png

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - é€‚ç”¨äºæ™®é€šæ•°å€¼æŒ‡æ ‡èšç±»åˆ†æï¼ˆå¦‚äººå£ç»Ÿè®¡ã€è¡Œä¸ºåˆ†ç±»ï¼‰
  - è¾“å‡ºèšç±»åˆ†ç»„å’Œå¯è§†åŒ–å›¾åƒ
  - æ”¯æŒæ‰¹é‡å¤„ç†å’Œå•æ–‡ä»¶å¤„ç†
  - ä¸æå–èšç±»ä¸­å¿ƒï¼Œåªåˆ†ç°‡

---

## 3. ä¸¤è„šæœ¬å¯¹æ¯”

| é¡¹ç›®                      | `csv_DBscan_KMeans_gps.py`           | `picture_DBscan_leabel.py`               |
| ------------------------- | ------------------------------------- | ---------------------------------------- |
| ğŸ“Œ èšç±»å¯¹è±¡               | GPS ç»çº¬åº¦ï¼ˆlon, latï¼‰                | æ™®é€šæ•°å€¼æŒ‡æ ‡ï¼ˆå¦‚ VAR00003, VAR00004ï¼‰    |
| ğŸ“‚ è¾“å…¥æ–‡ä»¶æ ¼å¼           | æ— è¡¨å¤´ CSVï¼Œä¸¤åˆ—åæ ‡                  | æœ‰è¡¨å¤´ CSVï¼ŒåŒ…å«æŒ‡æ ‡å­—æ®µ                 |
| ğŸ“Š è·ç¦»åº¦é‡               | haversineï¼ˆçƒé¢è·ç¦»ï¼‰                 | æ¬§æ°è·ç¦»                                 |
| ğŸ” ç›®æ ‡ä»»åŠ¡               | è·å–æ¯ç°‡ä¸­å¿ƒç‚¹åæ ‡                    | è·å–æ¯ç°‡åˆ†ç»„æƒ…å†µå¹¶å¯è§†åŒ–                 |
| ğŸ§  æ˜¯å¦æå–èšç±»ä¸­å¿ƒ       | âœ… ä½¿ç”¨ KMeans                        | âŒ ä¸åšä¸­å¿ƒç‚¹æå–                        |
| ğŸ“ˆ æ˜¯å¦ç”Ÿæˆå›¾åƒå¯è§†åŒ–     | âŒ æ— å›¾åƒè¾“å‡º                         | âœ… ç”Ÿæˆèšç±»åˆ†å¸ƒå›¾                        |
| ğŸ“ æ˜¯å¦æ‰¹å¤„ç†             | âœ… æ‰¹é‡å¤„ç†æ‰€æœ‰ .csv æ–‡ä»¶              | âœ… æ”¯æŒæ‰¹é‡å’Œå•æ–‡ä»¶å¤„ç†                   |
| ğŸ“„ è¾“å‡ºæ–‡ä»¶               | `xxx_clustered.csv`                   | `xxx_dbscan_epsX_minY.csv`ã€`.png` å›¾åƒ  |
| âš™ï¸ å‚æ•°äº¤äº’æ–¹å¼           | æ§åˆ¶å°è¾“å…¥ eps_kmã€min_samples        | æ§åˆ¶å°è¾“å…¥ epsã€min_samples              |
| ğŸ§ª æ ‡å‡†åŒ–å¤„ç†             | âŒ ä¸æ ‡å‡†åŒ–                           | âœ… ä½¿ç”¨æ ‡å‡†åŒ–                            |
| ğŸ§­ åº”ç”¨åœºæ™¯               | åœ°ç†åæ ‡èšç±»åˆ†æ                      | æŒ‡æ ‡è¯„ä¼°å‹èšç±»åˆ†æ                       |

---

# å…«.downsample_test æ–‡ä»¶å¤¹è¯´æ˜

## 1. ply_random_downsampling_plus.py

- **è¾“å…¥**ï¼š  
  - å•ä¸ªæˆ–æ‰¹é‡ .ply ç‚¹äº‘æ–‡ä»¶ï¼ˆæ”¯æŒ x, y, z, r, g, b, label å­—æ®µï¼‰

- **è¾“å‡º**ï¼š  
  - ä¸‹é‡‡æ ·åçš„ .ply æ–‡ä»¶ï¼ˆå¯é€‰ .txt æ–‡ä»¶ï¼ŒåŒ…å«é‡‡æ ·ç‚¹çš„åæ ‡ã€é¢œè‰²ã€æ ‡ç­¾ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘ â†’ ä¸‹é‡‡æ ·ç‚¹äº‘ï¼ˆå¯é€‰å¤šè½®é‡‡æ ·ã€ä¸­å¿ƒé‚»åŸŸé‡‡æ ·ã€FPSé‡‡æ ·ã€PCLé‡‡æ ·ï¼‰

- **æ“ä½œ**ï¼š  
  1. è¯»å– .ply æ–‡ä»¶ï¼Œæå–ç‚¹ã€é¢œè‰²ã€æ ‡ç­¾
  2. æ ¹æ®ç”¨æˆ·é€‰æ‹©æ‰§è¡Œæ¯”ä¾‹é‡‡æ ·ã€å›ºå®šæ•°é‡é‡‡æ ·ã€PCLé‡‡æ ·ã€FPSé‡‡æ ·æˆ–å¤šè½®é‡‡æ ·
  3. å¯é€‰ä¸­å¿ƒç‚¹é‚»åŸŸæå– + FPSé‡‡æ ·
  4. è¾“å‡ºé‡‡æ ·ç»“æœä¸º .ply å’Œ/æˆ– .txt æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - æ”¯æŒå¤šç§é‡‡æ ·æ–¹å¼ï¼ˆéšæœºã€FPSã€PCLã€ç»„åˆï¼‰
  - å¯è¾“å‡ºå¸¦æ ‡ç­¾çš„ .txt æ–‡ä»¶ï¼Œä¾¿äºåç»­è®­ç»ƒæˆ–åˆ†æ

---

## 2. ply_fps.py

- **è¾“å…¥**ï¼š  
  - æ‰¹é‡ .ply æ–‡ä»¶ï¼ˆä»… x, y, z æˆ–å¸¦é¢œè‰²ï¼‰

- **è¾“å‡º**ï¼š  
  - ä¸‹é‡‡æ ·åçš„ .ply æ–‡ä»¶ï¼ˆç‚¹æ•°å‡åŠï¼Œå‡åŒ€åˆ†å¸ƒï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘ â†’ FPSé‡‡æ ·ç‚¹äº‘

- **æ“ä½œ**ï¼š  
  1. è¯»å–æ¯ä¸ª .ply æ–‡ä»¶ï¼Œæå–ç‚¹åæ ‡
  2. ä½¿ç”¨ Farthest Point Sampling (FPS) ç®—æ³•é‡‡æ ·ä¸€åŠç‚¹
  3. ä¿å­˜é‡‡æ ·ç»“æœä¸ºæ–°çš„ .ply æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - é‡‡æ ·å‰ï¼šåŸå§‹ç‚¹äº‘ç‚¹æ•°è¾ƒå¤š  
  - é‡‡æ ·åï¼šç‚¹æ•°å‡åŠï¼Œåˆ†å¸ƒæ›´å‡åŒ€

---

## 3. ply(xyz)_to_pcd(xyz_intensity).py

- **è¾“å…¥**ï¼š  
  - .ply æ–‡ä»¶ï¼ˆåªè¯» x, y, z åæ ‡ï¼‰

- **è¾“å‡º**ï¼š  
  - .pcd æ–‡ä»¶ï¼ˆx, y, z, intensity å­—æ®µï¼Œintensity å›ºå®šä¸º 0ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - .ply ç‚¹äº‘ â†’ .pcd ç‚¹äº‘ï¼ˆé€‚é… PCL å·¥å…·ï¼‰

- **æ“ä½œ**ï¼š  
  1. ä½¿ç”¨ Open3D è¯»å– .ply æ–‡ä»¶
  2. æå–ç‚¹åæ ‡
  3. æ„é€  .pcd æ–‡ä»¶å¤´ï¼Œå†™å…¥ç‚¹åæ ‡å’Œ intensity å­—æ®µ

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - è½¬æ¢å‰ï¼šä»…æœ‰åæ ‡ä¿¡æ¯  
  - è½¬æ¢åï¼šå¢åŠ  intensity å­—æ®µï¼Œä¾¿äºå…¼å®¹ PCL

---

## 4. ply_pcd(xyz).py

- **è¾“å…¥**ï¼š  
  - .ply æ–‡ä»¶ï¼ˆåªè¯» x, y, z åæ ‡ï¼‰

- **è¾“å‡º**ï¼š  
  - .pcd æ–‡ä»¶ï¼ˆx, y, z å­—æ®µï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - .ply ç‚¹äº‘ â†’ .pcd ç‚¹äº‘ï¼ˆæ—  intensityï¼‰

- **æ“ä½œ**ï¼š  
  1. ä½¿ç”¨ plyfile è¯»å– .ply æ–‡ä»¶
  2. æå– x, y, z åæ ‡
  3. æ„é€ æ ‡å‡† .pcd æ–‡ä»¶å¤´ï¼Œå†™å…¥ç‚¹æ•°æ®

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - ä¸ ply(xyz)_to_pcd(xyz_intensity).py åŒºåˆ«ï¼šæ—  intensity å­—æ®µ

---

## 5. main.py

- **è¾“å…¥**ï¼š  
  - .ply æ–‡ä»¶ï¼ˆåŒ…å« x, y, z, red, green, blue, label å­—æ®µï¼‰

- **è¾“å‡º**ï¼š  
  - ä¸‹é‡‡æ ·åçš„ .ply æ–‡ä»¶ï¼ˆå¦‚ 256 ç‚¹ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘ â†’ å±€éƒ¨åŒºåŸŸæå– â†’ FPSé‡‡æ ·ç‚¹äº‘

- **æ“ä½œ**ï¼š  
  1. é€‰å–ä¸­å¿ƒç‚¹ï¼Œæå–é‚»åŸŸç‚¹ï¼ˆå¦‚ 65536 ä¸ªï¼‰
  2. å¯¹é‚»åŸŸç‚¹æ‰§è¡Œ FPS ä¸‹é‡‡æ ·ï¼ˆå¦‚ 256 ä¸ªç‚¹ï¼‰
  3. ä¿å­˜é‡‡æ ·ç»“æœä¸ºæ–°çš„ .ply æ–‡ä»¶

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - ä¸¤æ­¥é‡‡æ ·ï¼šå…ˆé‚»åŸŸæå–ï¼Œå†å‡åŒ€é‡‡æ ·
  - è¾“å‡ºç‚¹äº‘åŒ…å«åæ ‡ã€é¢œè‰²ã€æ ‡ç­¾

---

## 6. help_ply.py

- **è¾“å…¥**ï¼š  
  - .ply æ–‡ä»¶ï¼ˆæ”¯æŒç‚¹äº‘æˆ–ä¸‰è§’ç½‘æ ¼ï¼‰

- **è¾“å‡º**ï¼š  
  - è¯»å–ï¼šè¿”å›ç‚¹äº‘æ•°æ®ï¼ˆnumpy æ•°ç»„ï¼Œå­—æ®µé½å…¨ï¼‰
  - å†™å…¥ï¼šä¿å­˜ä¸º .ply æ–‡ä»¶ï¼ˆæ”¯æŒè‡ªå®šä¹‰å­—æ®µï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ç‚¹äº‘æ•°æ®ç»“æ„åŒ–ã€æ ‡å‡†åŒ–

- **æ“ä½œ**ï¼š  
  1. è§£æ .ply æ–‡ä»¶å¤´ï¼Œè¯»å–ç‚¹æ•°æ®
  2. æ”¯æŒäºŒè¿›åˆ¶å’Œ ASCII æ ¼å¼
  3. å†™å…¥ .ply æ–‡ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—æ®µå’Œä¸‰è§’é¢

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - ä¸ open3d/pandasç­‰åº“ç›¸æ¯”ï¼Œæ”¯æŒæ›´çµæ´»å­—æ®µå’Œæ ¼å¼

---

## 7. las/read_las.py & las/write_las.py

- **è¾“å…¥**ï¼š  
  - read_las.pyï¼š.las æ–‡ä»¶ï¼ˆæ¿€å…‰ç‚¹äº‘ï¼Œå«åæ ‡ã€é¢œè‰²ç­‰ï¼‰
  - write_las.pyï¼šnumpy æ•°ç»„ï¼ˆx, y, z, r, g, bï¼‰

- **è¾“å‡º**ï¼š  
  - read_las.pyï¼šæ‰“å°ç‚¹äº‘å±æ€§ã€åæ ‡ã€é¢œè‰²
  - write_las.pyï¼šä¿å­˜ä¸º .las æ–‡ä»¶

- **æ•°æ®çŠ¶æ€**ï¼š  
  - .las æ ¼å¼ â†” numpy æ•°ç»„

- **æ“ä½œ**ï¼š  
  1. è¯»å– .las æ–‡ä»¶ï¼Œæå–å±æ€§å­—æ®µ
  2. å†™å…¥ .las æ–‡ä»¶ï¼ŒæŒ‡å®šåæ ‡å’Œé¢œè‰²

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - é€‚ç”¨äºæ¿€å…‰ç‚¹äº‘æ ¼å¼ä¸ numpy æ•°æ®äº’è½¬

---

## 8. sampling/tf_sampling.cpp, tf_sampling.py, tf_sampling_so.so

- **è¾“å…¥**ï¼š  
  - ç‚¹äº‘æ•°æ®ï¼ˆnumpy æ•°ç»„ï¼Œbatchã€ç‚¹æ•°ã€ç»´åº¦ï¼‰

- **è¾“å‡º**ï¼š  
  - é‡‡æ ·ç‚¹ç´¢å¼•ï¼ˆå¦‚ FPSã€GatherPointã€ProbSampleï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘ â†’ é‡‡æ ·ç‚¹ç´¢å¼•

- **æ“ä½œ**ï¼š  
  1. ç¼–è¯‘ CUDA/C++ é‡‡æ ·ç®—å­
  2. åœ¨ Python/TensorFlow ä¸­è°ƒç”¨é«˜æ•ˆé‡‡æ ·ï¼ˆå¦‚ FPSï¼‰

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - ä¸çº¯ Python å®ç°ç›¸æ¯”ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œæ”¯æŒå¤§è§„æ¨¡ç‚¹äº‘

---

## 9. nearest_neighbors/knn.cpp, nanoflann.hpp, KDTreeTableAdaptor.h, knn.pyx

- **è¾“å…¥**ï¼š  
  - ç‚¹äº‘æ•°æ®ï¼ˆnumpy æ•°ç»„ï¼‰

- **è¾“å‡º**ï¼š  
  - æœ€è¿‘é‚»ç´¢å¼•ã€è·ç¦»ç­‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘ â†’ æœ€è¿‘é‚»ç»“æ„ï¼ˆKD-Treeï¼‰

- **æ“ä½œ**ï¼š  
  1. æ„å»º KD-Treeï¼Œæ”¯æŒé«˜ç»´ç©ºé—´æœ€è¿‘é‚»æœç´¢
  2. æ‰¹é‡æŸ¥è¯¢ KNNï¼Œè¿”å›ç´¢å¼•å’Œè·ç¦»
  3. æ”¯æŒ C++/Python/Cython æ··åˆè°ƒç”¨

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - ä¸ sklearn.neighbors.KDTree åŒºåˆ«ï¼šæ›´é«˜æ•ˆï¼Œæ”¯æŒè‡ªå®šä¹‰è·ç¦»å’Œæ‰¹é‡å¤„ç†

---

## 10. é‡‡æ ·æ–¹æ³•å¯¹æ¯”è¯´æ˜

| æ–¹æ³•                | é‡‡æ ·å¯¹è±¡         | é‡‡æ ·æ–¹å¼         | è¾“å‡ºæ ¼å¼         | é€‚ç”¨åœºæ™¯           |
|---------------------|------------------|------------------|------------------|--------------------|
| éšæœºé‡‡æ ·            | .ply/.pcd ç‚¹äº‘   | æ¯”ä¾‹/æ•°é‡éšæœºæŠ½å– | .ply/.txt/.pcd   | å¿«é€Ÿé¢„å¤„ç†         |
| FPSé‡‡æ ·             | .ply/.pcd ç‚¹äº‘   | æœ€è¿œç‚¹å‡åŒ€é‡‡æ ·   | .ply/.txt/.pcd   | ä¿è¯ç©ºé—´å‡åŒ€æ€§     |
| PCL RandomSample    | .pcd ç‚¹äº‘        | å›ºå®šæ•°é‡éšæœºæŠ½å– | .ply/.pcd        | PCLå·¥å…·é“¾å…¼å®¹      |
| ä¸­å¿ƒé‚»åŸŸ+FPSé‡‡æ ·    | .ply ç‚¹äº‘        | å±€éƒ¨åŒºåŸŸ+å‡åŒ€é‡‡æ ·| .ply/.txt        | å±€éƒ¨åˆ†æ/é™é‡‡æ ·    |
| æ ¼å¼è½¬æ¢            | .ply â†” .pcd/.txt | å­—æ®µå…¼å®¹è½¬æ¢     | .pcd/.txt/.ply   | è·¨å·¥å…·/æ ¼


# ä¹.nearest_neighbors æ–‡ä»¶å¤¹è¯´æ˜

## 1. knn.pyx / knn_.cxx / knn_.h

- **åŠŸèƒ½**ï¼š  
  å®ç°é«˜æ•ˆçš„ K è¿‘é‚»ï¼ˆKNNï¼‰æœç´¢ï¼Œæ”¯æŒå•æ‰¹å’Œå¤šæ‰¹ç‚¹äº‘æ•°æ®çš„æœ€è¿‘é‚»æŸ¥æ‰¾ï¼Œåº•å±‚è°ƒç”¨ C++/nanoflann KD-Treeã€‚

- **ä¸»è¦æ¥å£**ï¼š  
  - `knn(pts, queries, K, omp=False)`ï¼šå•æ‰¹ç‚¹äº‘ KNN æŸ¥è¯¢ï¼Œæ”¯æŒå¹¶è¡Œ
  - `knn_batch(pts, queries, K, omp=False)`ï¼šå¤šæ‰¹ç‚¹äº‘ KNN æŸ¥è¯¢
  - `knn_batch_distance_pick(...)`ï¼šæ‰¹é‡é‡‡æ ·ä¸è·ç¦»ç­›é€‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - è¾“å…¥ï¼šnumpy æ•°ç»„æ ¼å¼ç‚¹äº‘ï¼ˆshape: [N, 3] æˆ– [B, N, 3]ï¼‰
  - è¾“å‡ºï¼šæ¯ä¸ªæŸ¥è¯¢ç‚¹çš„ K ä¸ªæœ€è¿‘é‚»ç´¢å¼•

- **æ“ä½œæµç¨‹**ï¼š  
  1. æ„å»º KD-Treeï¼ˆKDTreeTableAdaptorï¼‰
  2. æŸ¥è¯¢æœ€è¿‘é‚»ï¼ˆfindNeighborsï¼‰
  3. è¿”å›ç´¢å¼•ç»“æœï¼Œæ”¯æŒ OpenMP å¹¶è¡ŒåŠ é€Ÿ

---

## 2. nanoflann.hpp / KDTreeTableAdaptor.h

- **åŠŸèƒ½**ï¼š  
  nanoflann.hppï¼šC++ header-only KD-Tree æœ€è¿‘é‚»åº“  
  KDTreeTableAdaptor.hï¼šé€‚é… numpy/float æ•°ç»„ä¸º nanoflann KD-Treeè¾“å…¥ï¼Œæ”¯æŒé«˜æ•ˆç‚¹äº‘ç´¢å¼•å’ŒæŸ¥è¯¢

- **æ•°æ®çŠ¶æ€**ï¼š  
  - è¾“å…¥ï¼šC++ float æ•°ç»„æˆ– numpy æ•°ç»„
  - è¾“å‡ºï¼šKD-Tree ç´¢å¼•ç»“æ„ï¼Œæ”¯æŒ KNN/åŠå¾„æœç´¢

- **æ“ä½œæµç¨‹**ï¼š  
  1. æ„å»º KD-Tree ç´¢å¼•
  2. æä¾› kdtree_get_ptã€kdtree_get_point_count ç­‰æ¥å£
  3. æ”¯æŒå¤šç»´ç‚¹äº‘æ•°æ®çš„é«˜æ•ˆæœ€è¿‘é‚»æŸ¥æ‰¾

---

## 3. setup.py

- **åŠŸèƒ½**ï¼š  
  ç¼–è¯‘ Cython/C++ KNN æ¨¡å—ï¼Œç”Ÿæˆ Python å¯è°ƒç”¨çš„æœ€è¿‘é‚»æ‰©å±•ï¼ˆnearest_neighbors.soï¼‰

- **æ“ä½œæµç¨‹**ï¼š  
  1. é…ç½®ç¼–è¯‘å‚æ•°ï¼ˆC++14ï¼ŒO3ä¼˜åŒ–ï¼‰
  2. cythonize æºæ–‡ä»¶ knn.pyxã€knn_.cxx
  3. ç”Ÿæˆ Python æ‰©å±•æ¨¡å—

---

## 4. test.py

- **åŠŸèƒ½**ï¼š  
  æµ‹è¯• nearest_neighbors æ¨¡å—çš„ KNN æŸ¥è¯¢æ€§èƒ½å’Œæ¥å£

- **æ“ä½œæµç¨‹**ï¼š  
  1. éšæœºç”Ÿæˆç‚¹äº‘æ•°æ®
  2. è°ƒç”¨ knn_batch æŸ¥è¯¢æœ€è¿‘é‚»
  3. æ‰“å°è¿è¡Œæ—¶é—´

---

## 5. lib/ åŠ build/ ç›®å½•

- **åŠŸèƒ½**ï¼š  
  å­˜æ”¾ç¼–è¯‘ç”Ÿæˆçš„ Python åŒ…ã€åŠ¨æ€åº“å’Œç¼“å­˜æ–‡ä»¶

- **ä¸»è¦å†…å®¹**ï¼š  
  - `nearest_neighbors.cpython-39-x86_64-linux-gnu.so`ï¼šç¼–è¯‘åçš„ Python æ‰©å±•æ¨¡å—
  - `__pycache__`ï¼šPython å­—èŠ‚ç ç¼“å­˜
  - `KNN_NanoFLANN-0.0.0-py3.7.egg-info`ï¼šåŒ…å…ƒæ•°æ®

---

## 6. __init__.py

- **åŠŸèƒ½**ï¼š  
  Python åŒ…åˆå§‹åŒ–æ–‡ä»¶ï¼Œä¾¿äºæ¨¡å—å¯¼å…¥

---

## 7. ä¸»è¦åŠŸèƒ½æ€»ç»“

- æä¾›é«˜æ•ˆçš„ç‚¹äº‘ K è¿‘é‚»ï¼ˆKNNï¼‰æŸ¥è¯¢èƒ½åŠ›ï¼Œæ”¯æŒæ‰¹é‡ã€å¹¶è¡Œã€è·ç¦»ç­›é€‰ç­‰å¤šç§æ¨¡å¼
- åº•å±‚é‡‡ç”¨ nanoflann KD-Treeï¼ŒC++/Cython æ··åˆå®ç°ï¼Œå…¼å®¹ numpy æ•°æ®
- é€‚ç”¨äºå¤§è§„æ¨¡ç‚¹äº‘çš„ç©ºé—´ç´¢å¼•ã€ç‰¹å¾æå–ã€é‚»åŸŸåˆ†æç­‰ä»»åŠ¡  

# å.upsample æ–‡ä»¶å¤¹è¯´æ˜

## 1. txt_random_upsampling_plus.py

- **è¾“å…¥**ï¼š  
  - .txt æ–‡ä»¶ï¼Œæ¯è¡Œæ ¼å¼ä¸º x y z R G B labelï¼ˆå…± 7 åˆ—ï¼‰ï¼Œé€šå¸¸æ¥è‡ªä¸‹é‡‡æ ·ç»“æœ

- **è¾“å‡º**ï¼š  
  - ä¸Šé‡‡æ ·åçš„ .txt æ–‡ä»¶ï¼ˆç»“æ„ä¸å˜ï¼Œç‚¹æ•°å¢å¤šï¼ŒæŒ‡å®šæ ‡ç­¾ç‚¹è¢«å¤åˆ¶æˆ–ç”Ÿæˆæ–°ç‚¹ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹ç‚¹äº‘ â†’ ä¸Šé‡‡æ ·ç‚¹äº‘ï¼ˆæŒ‡å®šæ ‡ç­¾ç‚¹æ•°é‡å¢åŠ ï¼‰

- **æ“ä½œ**ï¼š  
  1. ç­–ç•¥1ï¼šè¾¹ç•Œæ¡†éšæœºé‡‡æ ·  
     - åœ¨æ ‡ç­¾ç‚¹çš„ç©ºé—´è¾¹ç•Œæ¡†å†…éšæœºç”Ÿæˆæ–°ç‚¹ï¼Œé¢œè‰²å¯é€‰å¹³å‡æˆ–éšæœºï¼Œåæ ‡å¯åŠ æ‰°åŠ¨
  2. ç­–ç•¥2ï¼šæ ‡ç­¾ç‚¹å¤åˆ¶+æ‰°åŠ¨  
     - éšæœºå¤åˆ¶æ ‡ç­¾ç‚¹å¹¶å¯¹åæ ‡åŠ å°æ‰°åŠ¨ï¼Œé¢œè‰²ä¿æŒåŸå€¼
  3. ç­–ç•¥3ï¼ˆå·²æ³¨é‡Šï¼‰ï¼šé«˜æ–¯æ‰°åŠ¨é‡‡æ ·  
     - æŒ‰æ ‡ç­¾ç‚¹çš„å‡å€¼å’Œåæ–¹å·®é‡‡æ ·æ–°ç‚¹ï¼Œé¢œè‰²éšæœºé€‰è‡ªåŸæ ‡ç­¾ç‚¹
  4. æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œè‡ªåŠ¨è¯†åˆ«æ ‡ç­¾å·ï¼Œå‚æ•°å¯äº¤äº’è¾“å…¥

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - è¾¹ç•Œæ¡†é‡‡æ ·ï¼šæ–°ç‚¹åˆ†å¸ƒå‡åŒ€ï¼Œè¦†ç›–ç©ºé—´èŒƒå›´ï¼Œé¢œè‰²å¯ç»Ÿä¸€æˆ–å¤šæ ·
  - å¤åˆ¶+æ‰°åŠ¨ï¼šæ–°ç‚¹å¯†é›†åˆ†å¸ƒäºåŸç‚¹é™„è¿‘ï¼Œç»“æ„ä¿æŒ
  - é«˜æ–¯æ‰°åŠ¨ï¼šæ–°ç‚¹æœä»æ•´ä½“åˆ†å¸ƒï¼Œé€‚åˆå½¢æ€å¢å¼º

---

## 2. make_ply(xyz_rgb_label).py

- **è¾“å…¥**ï¼š  
  - xyzsï¼ˆç‚¹åæ ‡æ•°ç»„ï¼‰ï¼Œlabelsï¼ˆæ ‡ç­¾æ•°ç»„ï¼‰ï¼Œæˆ–å« label å­—æ®µçš„ .ply æ–‡ä»¶

- **è¾“å‡º**ï¼š  
  - å¸¦ RGB å’Œ label çš„ .ply æ–‡ä»¶ï¼Œå¯è§†åŒ–ç‚¹äº‘

- **æ•°æ®çŠ¶æ€**ï¼š  
  - ç‚¹äº‘åæ ‡+æ ‡ç­¾ â†’ .ply æ–‡ä»¶ï¼ˆå¸¦é¢œè‰²å’Œæ ‡ç­¾ï¼‰

- **æ“ä½œ**ï¼š  
  1. æ ¹æ®æ ‡ç­¾æ˜ å°„è¡¨ä¸ºæ¯ä¸ªç‚¹èµ‹ RGB é¢œè‰²
  2. å†™å…¥æ ‡å‡† .ply æ–‡ä»¶å¤´å’Œç‚¹æ•°æ®
  3. æ”¯æŒä»å·²æœ‰ .ply æ–‡ä»¶æˆ–éšæœºç”Ÿæˆç‚¹äº‘
  4. å¯é€‰å¯è§†åŒ–è¾“å‡º

---

## 3. color_to_gray.py

- **è¾“å…¥**ï¼š  
  - å›¾åƒæ–‡ä»¶ï¼ˆ.png/.jpgï¼‰ï¼Œæ¯ä¸ªåƒç´ ä¸º RGB é¢œè‰²æ ‡ç­¾å›¾

- **è¾“å‡º**ï¼š  
  - ç°åº¦æ ‡ç­¾å›¾ï¼ˆæ¯ä¸ªåƒç´ å˜ä¸º (n, n, n)ï¼Œnä¸ºç±»åˆ«ç¼–å·ï¼‰ï¼Œæ–‡ä»¶ååŠ  _labeled

- **æ•°æ®çŠ¶æ€**ï¼š  
  - åŸå§‹å½©è‰²æ ‡ç­¾å›¾ â†’ ç°åº¦æ ‡ç­¾å›¾ï¼ˆè¯­ä¹‰ç±»åˆ«ç¼–ç ï¼‰

- **æ“ä½œ**ï¼š  
  1. éå†è¾“å…¥ç›®å½•æ‰€æœ‰å›¾åƒ
  2. æŒ‰é¢„è®¾é¢œè‰²è¡¨å°†æŒ‡å®šé¢œè‰²æ›¿æ¢ä¸ºç±»åˆ«ç¼–å·
  3. ä¿å­˜å¤„ç†åå›¾åƒåˆ°è¾“å‡ºç›®å½•

- **å¯¹æ¯”è¯´æ˜**ï¼š  
  - è½¬æ¢å‰ï¼šå½©è‰²æ ‡ç­¾å›¾ï¼Œé¢œè‰²åŒºåˆ†ç±»åˆ«
  - è½¬æ¢åï¼šç°åº¦æ ‡ç­¾å›¾ï¼Œåƒç´ å€¼ç›´æ¥è¡¨ç¤ºç±»åˆ«

---

## 4. pytorch_gpu_test.py

- **è¾“å…¥**ï¼š  
  - æ— éœ€å¤–éƒ¨è¾“å…¥ï¼Œè‡ªåŠ¨æ£€æµ‹ GPU ç¯å¢ƒ

- **è¾“å‡º**ï¼š  
  - æ§åˆ¶å°æ‰“å° GPU ä¿¡æ¯ã€å¼ é‡è®¡ç®—ç»“æœã€æ€§èƒ½æµ‹è¯•å¾ªç¯æ¬¡æ•°

- **æ•°æ®çŠ¶æ€**ï¼š  
  - æ£€æŸ¥ PyTorch GPU å¯ç”¨æ€§ï¼Œæ‰§è¡Œå¼ é‡è¿ç®—

- **æ“ä½œ**ï¼š  
  1. æ‰“å° PyTorch ç‰ˆæœ¬ã€CUDA å¯ç”¨æ€§ã€GPUæ•°é‡ä¸åç§°
  2. åˆ›å»ºå¼ é‡å¹¶åœ¨ GPU ä¸Šè®¡ç®—
  3. å¾ªç¯æ‰©å¤§å¼ é‡è§„æ¨¡ï¼Œæµ‹è¯• GPU è¿ç®—æ€§èƒ½

---

## 5. utils/ply.py

- **è¾“å…¥**ï¼š  
  - .ply æ–‡ä»¶ï¼ˆASCIIæ ¼å¼ï¼‰

- **è¾“å‡º**ï¼š  
  - numpy ç»“æ„åŒ–æ•°ç»„ï¼ˆå­—æ®µåä¸ .ply æ–‡ä»¶ä¸€è‡´ï¼‰

- **æ•°æ®çŠ¶æ€**ï¼š  
  - .ply ç‚¹äº‘ â†’ numpy æ•°ç»„ï¼ˆä¾¿äºåç»­å¤„ç†ï¼‰

- **æ“ä½œ**ï¼š  
  1. è§£æ .ply æ–‡ä»¶å¤´ï¼Œæå–å­—æ®µå
  2. è¯»å–ç‚¹æ•°æ®ï¼ŒæŒ‰å­—æ®µåˆ†ç»„
  3. è¿”å›ç»“æ„åŒ–æ•°ç»„ï¼Œæ”¯æŒ x, y, z, r, g, b, label ç­‰å­—æ®µ

---

## 6. __init__.py

- **åŠŸèƒ½**ï¼š  
  Python åŒ…åˆå§‹åŒ–æ–‡ä»¶ï¼Œä¾¿äºæ¨¡å—å¯¼å…¥

---

## 7. ä¸»è¦åŠŸèƒ½å¯¹æ¯”

| æ–¹æ³•/è„šæœ¬                  | è¾“å…¥ç±»å‹           | è¾“å‡ºç±»å‹           | ä¸»è¦æ“ä½œ/ç‰¹ç‚¹                  | é€‚ç”¨åœºæ™¯           |
|----------------------------|--------------------|--------------------|-------------------------------|--------------------|
| txt_random_upsampling_plus | .txt ç‚¹äº‘          | .txt ç‚¹äº‘          | å¤šç­–ç•¥ä¸Šé‡‡æ ·ï¼Œæ ‡ç­¾ç‚¹å¢å¼º       | æ•°æ®å¢å¼º           |
| make_ply(xyz_rgb_label)    | xyzs+labels/.ply   | .ply ç‚¹äº‘          | æŒ‰æ ‡ç­¾èµ‹è‰²ï¼Œç”Ÿæˆå¯è§†åŒ–ç‚¹äº‘     | å¯è§†åŒ–/æ ¼å¼è½¬æ¢    |
| color_to_gray              | å½©è‰²æ ‡ç­¾å›¾åƒ       | ç°åº¦æ ‡ç­¾å›¾åƒ       | é¢œè‰²è½¬ç±»åˆ«ç¼–ç ï¼Œæ‰¹é‡å¤„ç†       | è¯­ä¹‰åˆ†å‰²/æ ‡æ³¨      |
| pytorch_gpu_test           | æ—                  | æ§åˆ¶å°è¾“å‡º         | GPUç¯å¢ƒæ£€æµ‹ä¸æ€§èƒ½æµ‹è¯•          | ç¯å¢ƒéªŒè¯           |
| utils/ply.py               | .ply æ–‡ä»¶          | numpy æ•°ç»„         | ç»“æ„åŒ–è¯»å–ï¼Œå­—æ®µè‡ªåŠ¨è¯†åˆ«       | ç‚¹äº‘æ•°æ®


---


 # æ–‡ä»¶ç»“æ„è¯´æ˜  
  
ç›®å½•ç»“æ„è¯¦è§data_structure.txt

 # å¤„ç†æµç¨‹/é€»è¾‘å±•ç¤º
 ## 1.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n PointCloud_02 python=3.9  
 ## 2.é…ç½®è™šæ‹Ÿç¯å¢ƒ  
screen  
conda activate PointCloud_02  
#å®‰è£…ä¾èµ–  
pip install numpy==1.23.5 -i https://pypi.tuna.tsinghua.edu.cn/simple  
pip install pandas==1.5.3 -i https://pypi.tuna.tsinghua.edu.cn/simple  
pip install scikit-learn==1.2.2 -i https://pypi.tuna.tsinghua.edu.cn/simple  
pip install laspy==2.3.0 -i https://pypi.tuna.tsinghua.edu.cn/simple  
pip install plyfile==0.7.4 -i https://pypi.tuna.tsinghua.edu.cn/simple  
pip install open3d==0.17.0 -i https://pypi.tuna.tsinghua.edu.cn/simple  
pip install numpy cython  
pip install plyfile  (ä½¿ç”¨ plyfile æ­£ç¡®è§£æäºŒè¿›åˆ¶ PLY)  

conda list  
  
    numpy                     1.23.5                   pypi_0    pypi
    open3d                    0.17.0                   pypi_0    pypi
    pandas                    1.5.3                    pypi_0    pypi
    pip                       25.1.1             pyh8b19718_0    conda-forge
    plyfile                   0.7.4                    pypi_0    pypi
    python                    3.10.18         hd6af730_0_cpython    conda-forge
    python-dateutil           2.9.0.post0              pypi_0    pypi
    rpds-py                   0.26.0                   pypi_0    pypi
    scikit-learn              1.2.2                    pypi_0    pypi
    tqdm                      4.67.1                   pypi_0    pypi
    laspy                     2.3.0                    pypi_0    pypi

## 3.ç¼–è¯‘
é¦–å…ˆç¼–è¯‘C++ä¾èµ–æ¨¡å—  

    cd ~/projects/PointCloud_Code/nearest_neighbors  
    python setup.py build_ext --inplace  
  >æ­¤ç›®å½•ï¼ˆnearest_neighborsï¼‰ä¸‹ç”Ÿæˆ`grid_subsampling.cpython-39-xxx.so` æ–‡ä»¶   
   
å†ç¼–è¯‘cpp\_subsampling æ¨¡å—  

    cd ~/projects/PointCloud_Code/cpp_wrappers/cpp_subsampling  
    g++ -O3 -Wall -shared -std=c++14 -fPIC \
     -I$(python3 -c "import sysconfig; print(sysconfig.get_paths()['include'])") \
     -I$(python3 -c "import numpy; print(numpy.get_include())") \
     cpp_wrappers/cpp_subsampling/grid_subsampling/grid_subsampling.cpp \
     cpp_wrappers/cpp_subsampling/wrapper.cpp \
     cpp_wrappers/cpp_utils/cloud/cloud.cpp \
     -o cpp_wrappers/cpp_subsampling/grid_subsampling.cpython-39-x86_64-linux-gnu.so  
    ls -lh cpp_wrappers/cpp_subsampling/*.so  #éªŒè¯.soæ–‡ä»¶æ˜¯å¦ç”Ÿæˆ
  >éªŒè¯ç»“æœè¾“å‡ºï¼š  
  rwxrwxr-x 1 hy hy 47K Jul 28 01:16  
  cpp_wrappers/cpp_subsampling/grid_subsampling.cpython-39-x86_64-linux-gnu. so  

    python
    >>from cpp_wrappers.cpp_subsampling import grid_subsampling
    >>dir(grid_subsampling)  
  >pythonä»£ç ä¸­ç¬¬ä¸€è¡Œå¯¹åº”çš„è¾“å‡ºï¼šgrid_subsampling  
   pythonä»£ç ä¸­ç¬¬äºŒè¡Œå¯¹åº”çš„è¾“å‡ºï¼š['__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'compute']  

## 4.é¢„å¤„ç†æ“ä½œ-->è¿è¡Œ.pyæ–‡ä»¶  
### è¿è¡Œstep0_read_las.py  
>è¾“å…¥ï¼š/home/hy/projects/PointCloud_Code/Data/Data_prepare/3-4(3_4).las  
è¾“å‡ºï¼š/home/hy/projects/PointCloud_Code/Results/data_prepare_result/step0_result/3-4(3_4).txt  
ï¼ˆä¸‰ä¸ª.lasæ–‡ä»¶éƒ½åˆ†åˆ«æ‰§è¡Œäº†ä¸€æ¬¡è¯¥.pyæ–‡ä»¶ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½æ›´æ”¹å¯¹åº”çš„è¾“å…¥è¾“å‡ºè·¯å¾„ï¼‰

### è¿è¡Œstep1_dara_prepare_H3D.py  
>è¾“å…¥ï¼š/home/hy/projects/PointCloud_Code/Results/data_prepare_result/step0_result  
è¾“å‡ºï¼š/home/hy/projects/PointCloud_Code/Results/data_prepare_result/step1_H3D_result  
ï¼ˆå°†step0çš„è¿è¡Œç»“æœ.txtæ–‡ä»¶ä½œä¸ºè¿™ä¸€æ­¥çš„è¾“å…¥æ•°æ®ï¼‰  
ï¼ˆæœ€ç»ˆåœ¨step1_H3D_result ä¸­ç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼škdtree-1å’Œpoints-1ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç”Ÿæˆäº†ä¸‰ä¸ªæ•°æ®é›†çš„å¯¹åº”æ ¼å¼æ–‡ä»¶ï¼Œè¯¦æƒ…å¯è§æ–‡ä»¶ç»“æ„ï¼‰

### è¿è¡ŒData_conversionæ–‡ä»¶å¤¹ä¸‹çš„ply_to_txt.py  
>è¾“å…¥ï¼š/home/hy/projects/PointCloud_Code/Results/data_prepare_result/step1_H3D_result/points-1  
ï¼ˆstep1_data_prepare_H3D.pyçš„è¿è¡Œç»“æœä¸­point-1æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰.plyæ–‡ä»¶ï¼‰  
è¾“å‡ºï¼š/home/hy/projects/PointCloud_Code/Results/data_conversion_result/H3D_points-1_ply_to_txt  ï¼ˆç»è¿‡æ ¼å¼è½¬æ¢ï¼Œè½¬æ¢ä¸ºtxtæ–‡ä»¶ï¼Œå¹¶å­˜æ”¾å†è¾“å‡ºè·¯å¾„ä¸‹ï¼‰   
ï¼ˆæ–‡ä»¶è½¬æ¢åçš„txtæ–‡ä»¶ä½œä¸ºstep2_data_process_randla.pyçš„è¾“å…¥ï¼‰

### è¿è¡Œdata_prepareæ–‡ä»¶å¤¹ä¸‹çš„step2_data_process_randla.py  
>è¾“å…¥ï¼š/home/hy/projects/PointCloud_Code/Results/data_conversion_result/H3D_points-1_ply_to_txt'  
ï¼ˆå°†ä¸Šä¸€æ­¥è½¬æ¢å®Œç”Ÿæˆçš„txtæ–‡ä»¶ä½œä¸ºè¾“å…¥ï¼‰  
è¾“å‡ºï¼š/home/hy/projects/PointCloud_Code/Results/data_prepare_result/step2_result  
ï¼ˆç”Ÿæˆçš„ç»“æœæœ‰å¤„ç†åçš„ç‰¹å¾æ•°æ®.txtæ–‡ä»¶ã€æ ‡ç­¾æ–‡ä»¶.labelæ–‡ä»¶ï¼‰  





